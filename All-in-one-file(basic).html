<!DOCTYPE html>
<html lang="en">
  <head>
    <title>A small site for tones</title>
    <script>
      let notas = [
        "do",
        "do#",
        "re",
        "re#",
        "mi",
        "fa",
        "fa#",
        "sol",
        "sol#",
        "la",
        "la#",
        "si",
      ];
      let acordesMaiores = [
        "A",
        "A#",
        "B",
        "C",
        "C#",
        "D",
        "D#",
        "E",
        "F",
        "F#",
        "G",
        "G#",
      ];
      let acordesMenores = [
        "Am",
        "A#m",
        "Bm",
        "Cm",
        "C#m",
        "Dm",
        "D#m",
        "Em",
        "Fm",
        "F#m",
        "Gm",
        "G#m",
      ];
      let acordesSetimoGrau = [
        "Am7(b5)",
        "A#m7(b5)",
        "Bm7(b5)",
        "Cm7(b5)",
        "C#m7(b5)",
        "Dm7(b5)",
        "D#m7(b5)",
        "Em7(b5)",
        "Fm7(b5)",
        "F#m7(b5)",
        "Gm7(b5)",
        "G#m7(b5)",
      ];

      class Tone {
        constructor(name, index) {
          this.name = name;
          this.index = index;
          this.base = acordesMaiores[index % 12];
          this.segunda = acordesMenores[(index + 2) % 12];
          this.terceira = acordesMenores[(index + 4) % 12];
          this.quarta = acordesMaiores[(index + 5) % 12];
          this.quinta = acordesMaiores[(index + 7) % 12];
          this.quinta7 = `${acordesMaiores[(index + 7) % 12]}7`;
          this.sexta = acordesMenores[(index + 9) % 12];
          this.setima = acordesSetimoGrau[(index + 11) % 12];
        }
      }

      //TODO
      class Chord {
        constructor(name, index) {
          this.name = name;
          this.index = index;
          this.primeira = notas[index];
          this.terca = notas[index + 4];
          this.quinta = notas[index + 7];
          this.setima = notas[index + 8];
          this.nona = notas[index + 1];
        }
      }

      let ATone = new Tone("A", 0);
      let ASharpTone = new Tone("A#", 1);
      let BTone = new Tone("B", 2);
      let CTone = new Tone("C", 3);
      let CSharpTone = new Tone("C#", 4);
      let DTone = new Tone("D", 5);
      let DSharpTone = new Tone("D#", 6);
      let ETone = new Tone("E", 7);
      let FTone = new Tone("F", 8);
      let FSharpTone = new Tone("F#", 9);
      let GTone = new Tone("G", 10);
      let GSharpTone = new Tone("G#", 11);

      function showTone(selected) {
        let tone = document.getElementById("toneSelector").value;
        let toneShow = document.getElementById("showTone");
        let toneSelected = classCaller(selected.value);
        showChords(toneSelected);
      }
      function classCaller(classes) {
        switch (classes) {
          case "A":
            toneSelected = ATone;
            break;
          case "A#":
            toneSelected = ASharpTone;
            break;
          case "B":
            toneSelected = BTone;
            break;
          case "C":
            toneSelected = CTone;
            break;
          case "C#":
            toneSelected = CSharpTone;
            break;
          case "D":
            toneSelected = DTone;
            break;
          case "D#":
            toneSelected = DSharpTone;
            break;
          case "E":
            toneSelected = ETone;
            break;
          case "F":
            toneSelected = FToneETone;
            break;
          case "F#":
            toneSelected = FSharpTone;
            break;
          case "G":
            toneSelected = GTone;
            break;
          case "G#":
            toneSelected = GSharpTone;
            break;
          default:
            break;
        }
        return toneSelected;
      }

      function showChords(toneSelected) {
        // let str = JSON.stringify(toneSelected, null, 4);
        // div.innerText = str;
        document.getElementById("base1").innerText = toneSelected.base;
        document.getElementById("segunda1").innerText = toneSelected.segunda;
        document.getElementById("terceira1").innerText = toneSelected.terceira;
        document.getElementById("quarta1").innerText = toneSelected.quarta;
        document.getElementById("quinta1").innerText = toneSelected.quinta;
        document.getElementById("sexta1").innerText = toneSelected.sexta;
        document.getElementById("setima1").innerText = toneSelected.setima;
      }

      function clearInputs() {
        let text = document.getElementById("songInput");
        let selector = document.getElementById("toneSelector");

        document.getElementById("base1").innerText = "";
        document.getElementById("segunda1").innerText = "";
        document.getElementById("terceira1").innerText = "";
        document.getElementById("quarta1").innerText = "";
        document.getElementById("quinta1").innerText = "";
        document.getElementById("sexta1").innerText = "";
        document.getElementById("setima1").innerText = "";

        text.value = "";
        selector.value = "";
      }
    </script>
  </head>
  <body>
    <div class="header">
      <div class="header-top">
        <h1>Stones - A small site for tones</h1>
      </div>
    </div>
    <div class="songName">
      <label for="songInput">Song Name: </label>
      <input type="text" class="songInput" id="songInput" />
    </div>
    <div class=""></div>
    <div class="toneContainer">
      <div class="tone-selector">
        <label for="tone">Your Tone</label>
        <select
          name="tone"
          id="toneSelector"
          onchange="showTone(this)"
          required
        >
          <option value="" selected disabled hidden>-</option>
          <option value="A">A</option>
          <option value="A#">A#</option>
          <option value="B">B</option>
          <option value="C">C</option>
          <option value="C#">C#</option>
          <option value="D">D</option>
          <option value="D#">D#</option>
          <option value="E">E</option>
          <option value="F">F</option>
          <option value="F#">F#</option>
          <option value="G">G</option>
          <option value="G#">G#</option>
        </select>
      </div>
      <div id="showTone"></div>
    </div>
    <div id="chords">
      <table border="1">
        <thead>
          <tr>
            <th id="base1"></th>
            <th id="base1">Acorde</th>
            <th id="base1-img">Imagem</th>
          </tr>
        </thead>

        <tbody>
          <tr>
            <td id="segunda">Segunda:</td>
            <td id="segunda1"></td>
            <td id="segunda1-img"></td>
          </tr>

          <tr>
            <td id="terceira">Terceira:</td>
            <td id="terceira1"></td>
            <td id="terceira1-img"></td>
          </tr>

          <tr>
            <td id="quarta">Quarta</td>
            <td id="quarta1"></td>
            <td id="quarta1-img"></td>
          </tr>

          <tr>
            <td id="quinta">Quinta:</td>
            <td id="quinta1"></td>
            <td id="quinta1-img"></td>
          </tr>

          <tr>
            <td id="sexta">Sexta:</td>
            <td id="sexta1"></td>
            <td id="sexta1-img"></td>
          </tr>

          <tr>
            <td id="setima">Setima:</td>
            <td id="setima1"></td>
            <td id="setima1-img"></td>
          </tr>
        </tbody>
      </table>
    </div>
    <div class="saveButton">
      <button onclick="clearInputs()">Limpar tudo</button>
    </div>
  </body>

  <style>
    body {
      background-color: #e6c98d;
      margin: 0px;
      font-family: "Lucida Sans", "Lucida Sans Regular", "Lucida Grande",
        "Lucida Sans Unicode";
    }

    .header {
      background-color: #ffc400;
      display: flex;
      height: 50px;
      align-items: center;
    }

    .header-top {
      padding-left: 5px;
      color: #302525;
    }

    .tone-selector {
      font-size: large;
      font-weight: bold;
    }
  </style>
</html>
